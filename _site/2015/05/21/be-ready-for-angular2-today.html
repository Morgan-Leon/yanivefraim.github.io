<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <!-- (1) Optimize for mobile versions: http://goo.gl/EOpFl -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- (1) force latest IE rendering engine: bit.ly/1c8EiC9 -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Be ready for Angular 2 Today - !!Draft - a work in progress!!</title>
  <meta name="description" content="Advanced Front End topics
" />

  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <link rel="canonical" href="http://yanivefraim.github.io//2015/05/21/be-ready-for-angular2-today.html">

  <link rel="shortcut icon" href="/assets/images/favicon.ico">
<!--  <link rel="stylesheet" href=""> -->
  <link rel="stylesheet" href="http://brick.a.ssl.fastly.net/Linux+Libertine:400,400i,700,700i/Open+Sans:400,400i,700,700i">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="stylesheet" type="text/css" media="screen" href="/css/main.css" />
  <link rel="stylesheet" type="text/css" media="print" href="/css/print.css" />
</head>

  <body itemscope itemtype="http://schema.org/Article">
    <!-- header start -->

<a href="http://yanivefraim.github.io/" class="logo-readium"><span class="logo" style="background-image: url(/assets/images/logo.png)"></span></a>

<!-- header end -->

    <main class="content" role="main">
      <article class="post">
        
        <div class="article-image">
          <div class="post-image-image" style="background-image: url(/assets/images/desktop.JPG)">
            Article Image
          </div>
          <div class="post-meta">
            <h1 class="post-title">Be ready for Angular 2 Today - !!Draft - a work in progress!!</h1>
            <div class="cf post-meta-text">
              <div class="author-image" style="background-image: url(/assets/images/author.jpg)">Blog Logo</div>
              <h4 class="author-name" itemprop="author" itemscope itemtype="http://schema.org/Person">Yaniv Efraim</h4>
              on
              <time datetime="2015-05-21 17:34">21 May 2015</time>
              <!-- , tagged on <span class="post-tag-">, <a href="/tag/"></a></span> -->
            </div>
            <div style="text-align:center">
              <a href="#topofpage" class="topofpage"><i class="fa fa-angle-down"></i></a>
            </div>
          </div>
        </div>
        
        <section class="post-content">
          <div class="post-reading">
            <span class="post-reading-time"></span> read
          </div>
          <a name="topofpage"></a>
          <p>Angular 2 is not here. It will take pretty long time until we&#39;ll start using it. But, as you probably heard, the changes are <a href="todo:%20add%20changes%20list%20blog%20link%20here">HUGE</a>.</p>

<p>This is a good enough reason to start preparing for Angular 2 today (otherwise the migration path will be paintfull). </p>

<blockquote>
<p>Another important point: a lot of new projects do not use Angular because of the fear of the new Angular 2 (or, &quot;why should I start a new project using Angular 1.x when soon I&#39;ll have to go through a paintfull migration path?&quot;)</p>
</blockquote>

<p>So, I&#39;ll get streight to the point: what do we need to do today in order to make the migration to Angular 2 easier? 
I summed it up to there steps, from the most important and complicated to the easiest:</p>

<ol>
<li>Use Component based Architecture</li>
<li>Write Angular 1.x in ES6/Typescript</li>
<li>Use the &quot;new router&quot;</li>
</ol>

<h2>1. Use Component based Architecture</h2>

<p>This is the most important part, and the hardest one. 
Angular 2.x, similar to React, is based on components. It uses component structure hierarchy (TODO: add link here). Angular 1.x does not work that way. The easiest way to understand this is through an example. I will use the <a href="https://docs.angularjs.org/tutorial">phonecat demo</a> as an example. Take a look at this code:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;container-fluid&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;row&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-md-2&quot;</span><span class="nt">&gt;</span>
      <span class="c">&lt;!--Sidebar content--&gt;</span>
      Search: <span class="nt">&lt;input</span> <span class="na">ng-model=</span><span class="s">&quot;query&quot;</span><span class="nt">&gt;</span>
      Sort by:
      <span class="nt">&lt;select</span> <span class="na">ng-model=</span><span class="s">&quot;orderProp&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>Alphabetical<span class="nt">&lt;/option&gt;</span>
        <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;age&quot;</span><span class="nt">&gt;</span>Newest<span class="nt">&lt;/option&gt;</span>
      <span class="nt">&lt;/select&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-md-10&quot;</span><span class="nt">&gt;</span>
      <span class="c">&lt;!--Body content--&gt;</span>
      <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">&quot;phones&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;li</span> <span class="na">ng-repeat=</span><span class="s">&quot;phone in phones | filter:query | orderBy:orderProp&quot;</span>
            <span class="na">class=</span><span class="s">&quot;thumbnail phone-listing&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#/phones/&quot;</span> <span class="na">class=</span><span class="s">&quot;thumb&quot;</span><span class="nt">&gt;&lt;img</span> <span class="na">ng-src=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;&lt;/a&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#/phones/&quot;</span><span class="nt">&gt;&lt;/a&gt;</span>
          <span class="nt">&lt;p&gt;&lt;/p&gt;</span>
        <span class="nt">&lt;/li&gt;</span>
      <span class="nt">&lt;/ul&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div>
<p>This is how it will look like:
--image here--</p>

<p>We would like to achieve two things:</p>

<ol>
<li>Break this html into components.</li>
<li>Build the components as a hierarchy tree. Something like this:</li>
</ol>

<p style="text-align:center;">
    <img src="/assets/article_images/2015-05-21-be-ready-for-angular2-today/app_structure.png" alt="">
</p>

<h6>Breaking the code into components</h6>

<p>We will want to build several components:</p>

<ul>
<li>Application main component (this will be used for the parent component in the hierarchy)</li>
<li>Search component</li>
<li>List component</li>
<li>List item component</li>
<li>Catalog details component</li>
</ul>

<h6>Creating a hierarchy tree</h6>

<p>This is the tricky part. The main issue here is to correctly pass data/state between components, with minimum usage of scope or controllers (as you probably heard, Angular 2.x does not have scope or controllers...). </p>

<blockquote>
<p>There are several great posts showing how to do it using directive&#39;s transclude property (see <a href="https://www.airpair.com/angularjs/posts/creating-container-components-part-2-angular-1-directives">here</a> and <a href="https://www.airpair.com/angularjs/posts/component-based-angularjs-directives">here</a>). While this is possible, it has several disadvantages: It uses scope and controllers and I think that it is too complicated. </p>
</blockquote>

<p>I will try to do it using a simpler approach, similar to what is done in Facebook&#39;s <a href="https://facebook.github.io/react/">React</a>.</p>

<h5>The &#39;React way&#39;</h5>

<p>React.js uses state and props to manage its data. Props are immutable and are passed from parent to child. They are owned by the parent and they cannot be changed by the component. State, on the other way, is private by the component and it is mutable, which means it can be changed by the component. For more reference see those awesome tutorials <a href="https://facebook.github.io/react/docs/thinking-in-react.html">here</a> and <a href="https://facebook.github.io/react/docs/tutorial.html">here</a></p>

<p>We will now have a main &#39;phonecat-component&#39; which will hold the &#39;phonecat-search&#39; component and the &#39;phonecat-list&#39; component.</p>

<p>It should look somehting like this:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!-- body --&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;phonecat-component&gt;&lt;/phonecat-component&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</code></pre></div><div class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!--phonecat-component--&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;container-fluid&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;row&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-md-2&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;phonecat-search&gt;&lt;/phonecat-search&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-md-10&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;phonecat-list&gt;&lt;/phonecat-list&gt;</span>    
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div><div class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!--phonecat-search--&gt;</span>
<span class="nt">&lt;div&gt;</span>
  Search:
  <span class="nt">&lt;input</span> <span class="na">ng-model=</span><span class="s">&quot;query&quot;</span> <span class="nt">/&gt;</span>
  Sort by:
  <span class="nt">&lt;select</span> <span class="na">ng-model=</span><span class="s">&quot;orderProp&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>Alphabetical<span class="nt">&lt;/option&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;age&quot;</span><span class="nt">&gt;</span>Newest<span class="nt">&lt;/option&gt;</span>
  <span class="nt">&lt;/select&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div><div class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!--phonecat-list--&gt;</span>
<span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">&quot;phones&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;li</span> <span class="na">ng-repeat=</span><span class="s">&quot;phone in phones | filter:query | orderBy:orderProp&quot;</span> <span class="na">class=</span><span class="s">&quot;thumbnail&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#/phones/&quot;</span> <span class="na">class=</span><span class="s">&quot;thumb&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;img</span> <span class="na">ng-src=</span><span class="s">&quot;&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#/phones/&quot;</span><span class="nt">&gt;&lt;/a&gt;</span>
    <span class="nt">&lt;p&gt;&lt;/p&gt;</span>
  <span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</code></pre></div>
          <div id="disqus_thread"></div>
        </section>
        <footer class="post-footer">
          <section class="share">
            
              
                <a class="icon-twitter" href="http://twitter.com/share?text=Be+ready+for+Angular+2+Today+-+%21%21Draft+-+a+work+in+progress%21%21&amp;url=http://yanivefraim.github.io//2015/05/21/be-ready-for-angular2-today"
                  onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;">
                <i class="fa fa-twitter"></i><span class="hidden">twitter</span>
                </a>
              
            
              
                <a class="icon-facebook" href="https://www.facebook.com/sharer.php?t=Be+ready+for+Angular+2+Today+-+%21%21Draft+-+a+work+in+progress%21%21&amp;u=http://yanivefraim.github.io//2015/05/21/be-ready-for-angular2-today"
                  onclick="window.open(this.href, 'facebook-share', 'width=550,height=255');return false;">
                <i class="fa fa-facebook"></i><span class="hidden">facebook</span>
                </a>
              
            
              
            
          </section>
        </footer>
        <div class="bottom-teaser cf">
          <div class="isLeft">
            <h5 class="index-headline featured"><span>Written by</span></h5>
            <section class="author">
              <div class="author-image" style="background-image: url(/assets/images/author.jpg)">Blog Logo</div>
              <h4>Yaniv Efraim</h4>
              <p class="bio"></p>
              <hr>
              <p class="published">Published <time datetime="2015-05-21 17:34">21 May 2015</time></p>
            </section>
          </div>
          
          <div class="isRight">
            <h5 class="index-headline featured"><span>Supported by</span></h5>
            <footer class="site-footer">
              <section class="poweredby">Proudly published with <a href="http://jekyllrb.com"> Jekyll</a></section>
              <a class="subscribe" href="/feed.xml"> <span class="tooltip"> <i class="fa fa-rss"></i> You should subscribe to my feed.</span></a>
              <div class="inner">
                <section class="copyright">All content copyright <a href="/">Yaniv Efraim</a> &copy; 2015<br>All rights reserved.</section>
              </div>
            </footer>
          </div>
        </div>
      </article>
    </main>
    <div class="bottom-closer">
      <div class="background-closer-image"  style="background-image: url(/assets/images/cA4aKEIPQrerBnp1yGHv_IMG_9534-3-2.jpg)">
        Image
      </div>
      <div class="inner">
        <h1 class="blog-title">Memoirs of a Front End Developer</h1>
        <h2 class="blog-description">Advanced Front End topics
</h2>
        <a href="/" class="btn">Back to Overview</a>
      </div>
    </div>
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/assets/js/index.js"></script>
<script type="text/javascript" src="/assets/js/readingTime.min.js"></script>
<script>
(function ($) {
  "use strict";
  $(document).ready(function(){

    var $window = $(window),
    $image = $('.post-image-image, .teaserimage-image');
    
      $window.on('scroll', function() {
        var top = $window.scrollTop();

        if (top < 0 || top > 1500) { return; }
        $image
          .css('transform', 'translate3d(0px, '+top/3+'px, 0px)')
          .css('opacity', 1-Math.max(top/700, 0));
      });
      $window.trigger('scroll');

      var height = $('.article-image').height();
      $('.post-content').css('padding-top', height + 'px');

      $('a[href*=#]:not([href=#])').click(function() {
        if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'')
         && location.hostname == this.hostname) {
          var target = $(this.hash);
          target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
          if (target.length) {
            $('html,body').animate({ scrollTop: target.offset().top }, 500);
            return false;
          }
        }
      });

  });
}(jQuery));
</script>


    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES * * */
        var disqus_shortname = 'fedsmemoirs';
        
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
  </body>
</html>
